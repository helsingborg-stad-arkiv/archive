(()=>{function e(e){e.preventDefault();const t=e.target.closest(".mod-curator-load-more"),o=t.getAttribute("data-code"),a=parseInt(t.getAttribute("data-item-count")),r=parseInt(t.getAttribute("data-items-per-page"));let n=parseInt(t.getAttribute("data-items-loaded"));const c=t.closest(".modularity-socialmedia-container").querySelector(".modularity-socialmedia__content").querySelectorAll(".modularity-socialmedia__item--placeholder");c.forEach((e=>{e.classList.remove("u-display--none")})),n<a?function(e,t,o){const a=curator.ajaxurl,r=new FormData;return r.append("action","mod_curator_get_feed"),r.append("nonce",curator.nonce),r.append("embed-code",e),r.append("limit",t),r.append("offset",o),fetch(a,{method:"POST",body:r}).then((e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}))}(o,r,n).then((e=>{e.success&&e.posts&&function(e,t){!function(e,t){const o=curator.ajaxurl,a=new FormData;a.append("action","mod_curator_load_more"),a.append("nonce",curator.nonce),a.append("layout",t.getAttribute("data-layout")),a.append("posts",JSON.stringify(e));const r=t.closest(".modularity-socialmedia-container").querySelector(".modularity-socialmedia__content"),n=r.querySelector(".modularity-socialmedia__item--placeholder"),c=r.querySelectorAll(".modularity-socialmedia__item--placeholder"),d=r.querySelector(".modularity-socialmedia__item").getAttribute("class");a.append("columnClasses",d),fetch(o,{method:"POST",body:a}).then((e=>{if(e.ok)return e.text();throw new Error("Network response was not ok")})).then((e=>{n.insertAdjacentHTML("beforebegin",e)})).catch((e=>{console.error(e)})).finally((()=>{c.forEach((e=>{e.classList.add("u-display--none")}))}))}(e,t);const o=parseInt(t.getAttribute("data-items-loaded"))+e.length;t.setAttribute("data-items-loaded",o)}(e.posts,t)})).catch((e=>{console.error(e)})):(c.forEach((e=>{e.remove()})),t.innerHTML=curator.noMoreItems)}document.addEventListener("DOMContentLoaded",(()=>{Array.from(document.getElementsByClassName("mod-curator-load-more")).forEach((t=>t.addEventListener("click",e)))}))})();
//# sourceMappingURL=mod-curator-load-more.5816815258a990c8ba62.js.map