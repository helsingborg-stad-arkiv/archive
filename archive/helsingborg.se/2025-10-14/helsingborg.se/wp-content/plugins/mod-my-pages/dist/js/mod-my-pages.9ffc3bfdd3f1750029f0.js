(()=>{"use strict";const{getAccessToken:e}=window.gdiHost,{noticeCodes:{INACTIVE_SIGNOUT:t}}=window.modMyPages,n=()=>Math.floor(Date.now()/1e3),o=e=>(e-n())/2,i=e=>Math.floor(1e3*e),c=(a=0)=>(e=>new Promise((t=>setTimeout(t,e))))(a).then(e).then((({expires:e})=>{return n()>=e?void(window.location.href=[`${window.location.protocol}//`,window.location.host,window.location.pathname,(a=(r={notice:t},e=>(Object.entries(r).forEach((([t,n])=>{e.set(t,n)})),e))((s=window.location.href,new URL(s).searchParams)),`?${a.toString()}`)].join("")):c(i(o(e)));var a,s,r}));const a=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),s=e=>"string"==typeof e?e.split(" ").map(a).join(" "):e,r={name:s,firstName:s,lastName:s};const{getAccessToken:l}=window.gdiHost;document.addEventListener("DOMContentLoaded",(()=>{return e=void 0,t=void 0,a=function*(){const{token:e,expires:t,decoded:n}=yield l(),a=e.length>0;var s,d,u,h,f;a&&(s=(e=>Object.entries(e).reduce(((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:Object.keys(r).includes(t)?r[t](n):n})),{}))(Object.assign({name:"",firstName:"",lastName:""},n)),d=void 0,u=void 0,f=function*(){[...document.querySelectorAll(".js-my-pages-template-string")].forEach((e=>{[...Object.entries(s)].map((([e,t])=>({search:`{user.${e}}`,value:t}))).filter((({search:t})=>e.innerHTML.includes(t))).forEach((({search:t,value:n})=>{e.innerHTML=e.innerHTML.replace(new RegExp(t,"g"),n)}))}))},new((h=void 0)||(h=Promise))((function(e,t){function n(e){try{i(f.next(e))}catch(e){t(e)}}function o(e){try{i(f.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof h?i:new h((function(e){e(i)}))).then(n,o)}i((f=f.apply(d,u||[])).next())})),(e=>{[e].filter((e=>e>0)).map((e=>i(o(e)))).forEach(c)})(t)),a||[...document.querySelectorAll(".js-press-on-dom-loaded")].forEach((e=>(null==e?void 0:e.click)&&e.click())),(e=>{[...document.querySelectorAll("body")].map((t=>({classNames:[...t.classList],classList:t.classList,isAuthenticated:e}))).forEach((({classNames:e,isAuthenticated:t,classList:n})=>(e.includes("is-authenticating")&&n.remove("is-authenticating"),t?!e.includes("is-authenticated")&&n.toggle("is-authenticated"):!e.includes("not-authenticated")&&n.toggle("not-authenticated"))))})(a)},new((n=void 0)||(n=Promise))((function(o,i){function c(e){try{r(a.next(e))}catch(e){i(e)}}function s(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}r((a=a.apply(e,t||[])).next())}));var e,t,n,a}))})();
//# sourceMappingURL=mod-my-pages.9ffc3bfdd3f1750029f0.js.map